# # Install and start all the modules needed by Digitall
# - installAndStartBundle: 'mvn:org.jahia.modules/press/3.0.0'
# - installAndStartBundle: 'mvn:org.jahia.modules/person/3.1.0'
# - installAndStartBundle: 'mvn:org.jahia.modules/news/3.1.0'
# - installAndStartBundle: 'mvn:org.jahia.modules/font-awesome/6.1.3'
# - installAndStartBundle: 'mvn:org.jahia.modules/calendar/3.1.0'
# - installAndStartBundle: 'mvn:org.jahia.modules/bootstrap3-core/4.1.0'
# - installAndStartBundle: 'mvn:org.jahia.modules/bootstrap3-components/4.1.0'
# - installAndStartBundle: 'mvn:org.jahia.modules/location/3.0.0'
# - installAndStartBundle: 'mvn:org.jahia.modules/topstories/3.0.0'
# - installAndStartBundle: 'mvn:org.jahia.modules/rating/3.2.0'
# - installAndStartBundle: 'mvn:org.jahia.modules/event/3.0.0'
# - installAndStartBundle: 'mvn:org.jahia.modules/bookmarks/3.1.0'
# - installAndStartBundle: 'mvn:org.jahia.modules/dx-base-demo-core/2.2.0'
# - installAndStartBundle: 'mvn:org.jahia.modules/dx-base-demo-templates/3.1.0'
# - installAndStartBundle: 'mvn:org.jahia.modules/dx-base-demo-components/2.1.0'
# - installAndStartBundle: 'mvn:org.jahia.modules/digitall/2.0.0'

# # Wait for all bundles to have started
# - startBundle: "pending"

# Install and start all the modules needed by Digitall
- installOrUpgradeBundle: 'mvn:org.jahia.modules/press/3.0.0'
- startBundle: "press/3.0.0"
- installOrUpgradeBundle: 'mvn:org.jahia.modules/person/3.1.0'
- startBundle: "person/3.1.0"
- installOrUpgradeBundle: 'mvn:org.jahia.modules/news/3.1.0'
- startBundle: "news/3.1.0"
- installOrUpgradeBundle: 'mvn:org.jahia.modules/font-awesome/6.1.3'
- startBundle: "font-awesome/6.1.3"
- installOrUpgradeBundle: 'mvn:org.jahia.modules/calendar/3.1.0'
- startBundle: "calendar/3.1.0"
- installOrUpgradeBundle: 'mvn:org.jahia.modules/bootstrap3-core/4.1.0'
- startBundle: "bootstrap3-core/4.1.0"
- installOrUpgradeBundle: 'mvn:org.jahia.modules/bootstrap3-components/4.1.0'
- startBundle: 'bootstrap3-components/4.1.0'
- installOrUpgradeBundle: 'mvn:org.jahia.modules/location/3.0.0'
- startBundle: 'location/3.0.0'
- installOrUpgradeBundle: 'mvn:org.jahia.modules/topstories/3.0.0'
- startBundle: 'topstories/3.0.0'
- installOrUpgradeBundle: 'mvn:org.jahia.modules/rating/3.2.0'
- startBundle: 'rating/3.2.0'
- installOrUpgradeBundle: 'mvn:org.jahia.modules/event/3.0.0'
- startBundle: 'event/3.0.0'
- installOrUpgradeBundle: 'mvn:org.jahia.modules/bookmarks/3.1.0'
- startBundle: 'bookmarks/3.1.0'
- installOrUpgradeBundle: 'mvn:org.jahia.modules/dx-base-demo-core/2.2.0'
- startBundle: 'dx-base-demo-core/2.2.0'
- installOrUpgradeBundle: 'mvn:org.jahia.modules/dx-base-demo-templates/3.1.0'
- startBundle: 'dx-base-demo-templates/3.1.0'
- installOrUpgradeBundle: 'mvn:org.jahia.modules/dx-base-demo-components/2.1.0'
- startBundle: 'dx-base-demo-components/2.1.0'
- installOrUpgradeBundle: 'mvn:org.jahia.modules/digitall/2.0.0'
- startBundle: 'digitall/2.0.0'

# # Create a token
# - executeScript: "https://raw.githubusercontent.com/Jahia/provisioning-examples/main/01-personal-api-tokens/create-token.groovy"

# # Import the Digitall site
# - import: "jar:mvn:org.jahia.modules/digitall/2.0.0/zip/import!/users.zip"
# - importSite: "jar:mvn:org.jahia.modules/digitall/2.0.0/zip/import!/Digitall.zip"

# Create a token, the script is passed alongside the API call to the provisioning API
- executeScript: "create-token.groovy"

# Import the Digitall site
- import: "jar:mvn:org.jahia.modules/digitall/2.0.0/zip/import!/users.zip"
- importSite: "jar:mvn:org.jahia.modules/digitall/2.0.0/zip/import!/Digitall.zip"
